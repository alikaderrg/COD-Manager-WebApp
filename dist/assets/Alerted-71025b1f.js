import{r as t,j as e,V as x}from"./index-c0bbc35d.js";import{E as p}from"./EmptyOrderTable-89b89bb5.js";function u(){const[a,d]=t.useState([]),[c,n]=t.useState(!0),[l,o]=t.useState("");return t.useEffect(()=>{(async()=>{try{const r=localStorage.getItem("token"),i=await x.get("https://cod-manager-webapp.onrender.com/api/orders?status=Alerted",{headers:{Authorization:`Bearer ${r}`}});d(i.data.orders||[])}catch(r){console.error("Failed to fetch alerted orders:",r),o("Failed to load orders")}finally{n(!1)}})()},[]),e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4 text-purple-700",children:"Alerted Orders"}),c?e.jsx("div",{className:"flex justify-center items-center h-40",children:e.jsx("div",{className:"w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})}):l?e.jsx("p",{className:"text-red-600",children:l}):a.length===0?e.jsx(p,{columns:"simple"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsx("thead",{className:"bg-purple-100 text-purple-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left",children:"Order ID"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Customer"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Phone"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Total"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Status"})]})}),e.jsx("tbody",{children:a.map(s=>e.jsxs("tr",{className:"border-b hover:bg-purple-50",children:[e.jsx("td",{className:"py-2 px-4",children:s.id}),e.jsx("td",{className:"py-2 px-4",children:s.customerName}),e.jsx("td",{className:"py-2 px-4",children:s.phoneNumber}),e.jsx("td",{className:"py-2 px-4",children:s.sellingPrice}),e.jsx("td",{className:"py-2 px-4 text-yellow-600 font-medium",children:s.confirmationStatus})]},s.id))})]})})]})}export{u as default};
